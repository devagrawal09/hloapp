<template name="CaregiverProfile">
    {{#if Template.subscriptionsReady}}
    <div class="container-fluid profile-cover">
        <div class="carousel slide" id="profile-cover" data-ride="carousel">

            <ol class="carousel-indicators">
                {{#each photo in caregiver.photos.each}}
                    <li class="{{activeClass @index}}" data-target="#profile-cover" data-slide-to="{{@index}}"></li>
                {{/each}}
            </ol>

            <div class="carousel-inner" role="listBox">
                {{#each photo in caregiver.photos.each}}
                    <div class="item {{activeClass @index}}">
                        <img src="{{photo.link}}" alt="{{photo.name}}">
                    </div>
                {{/each}}
            </div>

            <a class="left carousel-control" href="#profile-cover" role="button" data-slide="prev">
                <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="right carousel-control" href="#profile-cover" role="button" data-slide="next">
                <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>

        </div>
    </div>
    <div class="row profile-head">
        <div class="col-sm-3">
            <div class="profile-pic" style="background-image: url({{caregiver.dp.link}})">
                {{#if notCurrentCaregiver}}
                    <div class="favorite">
                        <a href="" class="{{isBookmarked}}">
                            <i class="fa {{#if isBookmarked}}fa-heart{{else}}fa-plus{{/if}}" aria-hidden="true"></i>
                        </a>
                    </div>
                {{/if}}
            </div>
        </div>
        <div class="col-sm-6 name">
            <h1>{{caregiver.firstName}} {{caregiver.lastName}}</h1>
            <div class="rating">
                <i class="fa fa-star" aria-hidden="true"></i>
                <i class="fa fa-star" aria-hidden="true"></i>
                <i class="fa fa-star" aria-hidden="true"></i>
                <i class="fa fa-star" aria-hidden="true"></i>
                <i class="fa fa-star-half-o" aria-hidden="true"></i>
                <a href="#reviews">(7)</a>
            </div>
            <h4><span class="label label-success">${{caregiver.hourlyRate}} HKD per hour</span></h4>
        </div>
        <div class="col-sm-3 profile-buttons">
            {{#if isCustomer}}
            <button class="btn btn-primary" data-toggle="modal" data-target="#hireCaregiver">Hire</button>
            {{/if}}
            <a class="btn btn-default-clear" href="#" role="button">Message</a>
        </div>
    </div>

    <!-- profile desc -->
    <div class="row profile-main">
        <div class="col-sm-9 profile-body">
            <div class="profile-section">
                <h2>About</h2>
                <p>{{caregiver.aboutText}}</p>
            </div>
            <div class="profile-section">
                <h2>Type of Caregiver</h2>
                <ul class="row list-group">
                    {{#each type in caregiver.caregiverType}}
                        <li class="col-sm-3 list-group-item">
                            {{type}}
                        </li>
                    {{/each}}
                </ul>
            </div>
            <div class="profile-section">
                <h2>Professional Services</h2>
                <ul class="row list-group">
                    {{#each service in caregiver.professionalServices}}
                        <li class="col-sm-3 list-group-item">
                            {{service}}
                        </li>
                    {{/each}}
                </ul>
            </div>
            <div class="profile-section">
                <h2>Personal Services</h2>
                <ul class="row list-group">
                    {{#each service in caregiver.personalServices}}
                        <li class="col-sm-3 list-group-item">
                            {{service}}
                        </li>
                    {{/each}}
                </ul>
            </div>
            <div class="profile-section">
                <h2>Medical Expertise</h2>
                <ul class="row list-group">
                    {{#each condition in caregiver.medicalConditions}}
                        <li class="col-sm-3 list-group-item">
                            {{condition}}
                        </li>
                    {{/each}}
                </ul>
            </div>
            <div class="profile-section">
                <h2>Availibility</h2>
                <table class="table">
                    <thead>
                        <tr>
                            <th>Day of Week</th>
                            <th>Time</th>
                        </tr>
                    </thead>
                    <tbody>
                        {{#each day in caregiver.availability}}
                            <tr>
                                <td>{{day.day}} </td>
                                <td>{{day.start}} - {{day.end}}</td>
                            </tr>
                        {{/each}}
                    </tbody>
                </table>
            </div>
            <div class="profile-section" id="reviews">
                <h2>Reviews</h2>
                <h5 class="average-rating">
                    <i class="fa fa-star" aria-hidden="true"></i>
                    <i class="fa fa-star" aria-hidden="true"></i>
                    <i class="fa fa-star" aria-hidden="true"></i>
                    <i class="fa fa-star" aria-hidden="true"></i>
                    <i class="fa fa-star-half-o" aria-hidden="true"></i>
                    (7 total)
                </h5>
                    
            </div>
        </div>
        <div class="col-sm-3 profile-sidebar">
            <div class="location-bar">
                <p>
                    <i class="fa fa-map-marker" aria-hidden="true"></i>
                    {{#if caregiver.otherDistrict}}
                        {{caregiver.otherDistrict}}
                    {{else}}
                        {{caregiver.location}}
                    {{/if}}
                </p>
            </div>
            <div class="sidebar-section checks">
                <h5 class="{{caregiver.ownsCar}}">
                    <i class="fa {{#if caregiver.ownsCar}}fa-check{{else}}fa-times{{/if}}" aria-hidden="true"></i>
                    Car
                </h5>
                <h5 class="{{caregiverBackgroundCheck}}">
                    <i class="fa {{#if caregiverBackgroundCheck}}fa-check{{else}}fa-times{{/if}}" aria-hidden="true"></i>
                    Background Check
                </h5>
            </div>
            <div class="sidebar-section">
                <h5>Education</h5>
                <p>{{caregiver.education}}</p>
                <h5>Experience</h5>
                <p>{{caregiver.years}} years</p>
                <h5>Languages</h5>
                <p>{{caregiver.languages}}</p>
            </div>
        </div>
    </div>

    {{#if isCustomer}}
        {{> hireCaregiverModal caregiver}}
    {{/if}}

    {{/if}}
</template>